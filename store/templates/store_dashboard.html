{% extends 'base.html' %}

{% load static %}
{% block content%}

{%if store.is_approved == True and store.store_status == 'Opened' %}

 <!-- Dashboard header-->
 <div class="page-title-overlap bg-accent pt-4">
    <div class="container d-flex flex-wrap flex-sm-nowrap justify-content-center justify-content-sm-between align-items-center pt-2">
      <div class="d-flex align-items-center pb-3">
        <div class="img-thumbnail rounded-circle position-relative flex-shrink-0" ><img class="rounded-circle " src="{{store.logo.url}}" width="150" alt="store logo"></div>
        <div class="ps-3">
          <h3 class="text-light fs-lg mb-0">{{store.name}}</h3><span class="d-block text-light fs-ms opacity-60 py-1">Opened since {{store.create_date}}</span>
        </div>
      </div>
      <div class="d-flex">
        <div class="text-sm-end me-5">
          <div class="text-light fs-base">Total sales</div>
          <h3 class="text-light">426</h3>
        </div>
        <div class="text-sm-end">
          <div class="text-light fs-base">Store rating</div>
          <div class="star-rating"><i class="star-rating-icon ci-star-filled active"></i><i class="star-rating-icon ci-star-filled active"></i><i class="star-rating-icon ci-star-filled active"></i><i class="star-rating-icon ci-star-filled active"></i><i class="star-rating-icon ci-star"></i>
          </div>
          <div class="text-light opacity-60 fs-xs">Based on 98 reviews</div>
        </div>
      </div>
    </div>
  </div>
  <div class="container mb-5 pb-3">
    <div class="bg-light shadow-lg rounded-3 overflow-hidden">
      <div class="row">
        <!-- Sidebar-->
        <aside class="col-lg-4 pe-xl-5">
          <!-- Account menu toggler (hidden on screens larger 992px)-->
          <div class="d-block d-lg-none p-4"><a class="btn btn-outline-accent d-block" href="#store" data-bs-toggle="collapse"><i class="ci-menu me-2"></i>Account menu</a></div>
          <!-- Actual menu-->
          <div class="h-100 border-end mb-2">
            <div class="d-lg-block collapse" id="store">
              <div class="bg-secondary p-4">
                <h3 class="fs-sm mb-0 text-muted">Store Dashboard</h3>
              </div>
              <ul class="list-unstyled mb-0">
                <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center px-4 py-3 active" href="{% url 'store:store_dashboard' store.slug %}"><i class="ci-settings opacity-60 me-2"></i>Settings</a></li>
                <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center px-4 py-3" href="{% url 'dashboard:store_products' store.slug %}"><i class="ci-package opacity-60 me-2"></i>Products<span class="fs-sm text-muted ms-auto">{{products.count}}</span></a></li>
                <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center px-4 py-3" href="{% url 'dashboard:store_orders' store.slug %}"><i class="ci-package opacity-60 me-2"></i>Orders<span class="fs-sm text-muted ms-auto"></span></a></li>
                <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center px-4 py-3" href="{% url 'store:add_product' store.slug %}"><i class="ci-cloud-upload opacity-60 me-2"></i>Add New Product</a></li>
                <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center px-4 py-3" href="#"><i class="ci-dollar opacity-60 me-2"></i>Sales<span class="fs-sm text-muted ms-auto">$1,375.00</span></a></li>
              </ul>
              <hr>
            </div>
          </div>
        </aside>
        <!-- Content-->
        <section class="col-lg-8 pt-lg-4 pb-4 mb-3">
          <div class="pt-2 px-4 ps-lg-0 pe-xl-5">
            <h2 class="h3 py-2 text-center text-sm-start">Settings</h2>
            <!-- Tabs-->
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li class="nav-item"><a class="nav-link px-0 active" href="#profile" data-bs-toggle="tab" role="tab">
                  <div class="d-none d-lg-block"><i class="ci-store opacity-60 me-2"></i>Store Informations </div>
                  <div class="d-lg-none text-center"><i class="ci-user opacity-60 d-block fs-xl mb-2"></i><span class="fs-ms">Profile</span></div></a></li>
              </ul>
            <!-- Tab content-->
            <div class="tab-content">
              <!-- Profile-->
              <div class="tab-pane fade show active" id="profile" role="tabpanel">
                <div class="bg-secondary rounded-3 p-4 mb-4">
                <label class="form-label" for="dashboard-fn">Store Logo</label>
                  <div class="d-flex align-items-center"><img class="rounded" src="{{store.logo.url}}" alt="store logo" width="150" >
                    <div class="ps-3">
                      <button class="btn btn-light btn-shadow btn-sm mb-2" type="button"><i class="ci-loading me-2"></i>Change <span class='d-none d-sm-inline'>Logo</span></button>
                     
                    </div>
                  </div>
                </div>
                <div class="row gx-4 gy-3">
                  <div class="col-sm-6">
                    <label class="form-label" for="store-name">Store Name</label>
                    <input class="form-control" type="text" id="store-name" value="{{store.name}}">
                  </div>
                  <div class="col-sm-6">
                    <label class="form-label" for="store-owner">Owner</label>
                    <input class="form-control" type="text" id="store-owner" value="{{store.owner}}" disabled>
                  </div> 
                  <div class="col-sm-6">
                    <label class="form-label" for="store-phone">Phone Number</label>
                    <input class="form-control" type="text" id="store-phone" value="{{store.phone_number}}"> 
                  </div>             
                  <div class="col-sm-6">
                    <label class="form-label" for="store-city">Country</label>
                    <input class="form-control" type="text" id="store-city" value="{{store.city}}"> 
                  </div>              
                  <div class="col-sm-12">
                    <label class="form-label" for="store-address">Address</label>
                    <input class="form-control" type="text" id="store-address" value="{{store.address}}">
                  </div>
                  
                  
                  <div class="col-sm-12">
                    <label class="form-label" for="description">Description</label>
                    <input class="form-control" type="text" id="description" value="{{store.description}}">
                  </div>
                  
                 

                  <div class="col-12">
                    <hr class="mt-2 mb-4">
                    <div class="d-sm-flex justify-content-end ">
                      <button class="btn btn-primary mt-3 mt-sm-0" type="button">Save changes</button>
                    </div>
                  </div>


                  <strong>My balance: </strong>${{ store.get_balance }}<br>
                 <strong>My paid amount: </strong>${{ store.get_paid_amount }}

                </div>
              </div>
              <!-- Notifications-->
              <div class="tab-pane fade" id="notifications" role="tabpanel">
                <div class="bg-secondary rounded-3 p-4">
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="nf-disable-all" data-master-checkbox-for="#notifocation-settings">
                    <label class="form-check-label fw-medium" for="nf-disable-all">Enable/disable all notifications</label>
                  </div>
                </div>
                <div id="notifocation-settings">
                  <div class="border-bottom p-4">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="nf-product-sold" checked>
                      <label class="form-check-label" for="nf-product-sold">Product sold notifications</label>
                    </div>
                    <div class="form-text">Send an email when someone purchased one of my products</div>
                  </div>
                  <div class="border-bottom p-4">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="nf-product-updated" checked>
                      <label class="form-check-label" for="nf-product-updated">Product update notifications</label>
                    </div>
                    <div class="form-text">Send an email when a product I've purchased is updated</div>
                  </div>
                  <div class="border-bottom p-4">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="nf-product-comment" checked>
                      <label class="form-check-label" for="nf-product-comment">Product comment notifications</label>
                    </div>
                    <div class="form-text">Send an email when someone comments on one of my products</div>
                  </div>
                  <div class="border-bottom p-4">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="nf-product-review" checked>
                      <label class="form-check-label" for="nf-product-review">Product review notification</label>
                    </div>
                    <div class="form-text">Send an email when someone leaves a review with their rating</div>
                  </div>
                  <div class="border-bottom p-4">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="nf-daily-summary">
                      <label class="form-check-label" for="nf-daily-summary">Daily summary emails</label>
                    </div>
                    <div class="form-text">Send me a daily summary of all products sold, commented or reviewed</div>
                  </div>
                </div>
                <div class="text-sm-end mt-4">
                  <button class="btn btn-primary" type="button">Save changes</button>
                </div>
              </div>
              <!-- Payment methods-->
              <div class="tab-pane fade" id="payment" role="tabpanel">
                <div class="bg-secondary rounded-3 p-4 mb-4">
                  <p class="fs-sm text-muted mb-0">Primary payment method is used by default</p>
                </div>
                <div class="table-responsive fs-md mb-4">
                  <table class="table table-hover mb-0">
                    <thead>
                      <tr>
                        <th>Your credit / debit cards</th>
                        <th>Name on card</th>
                        <th>Expires on</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="py-3 align-middle">
                          <div class="d-flex align-items-center"><img src="img/card-visa.png" width="39" alt="Visa">
                            <div class="ps-2"><span class="fw-medium text-heading me-1">Visa</span>ending in 4999<span class="align-middle badge badge-info ms-2">Primary</span></div>
                          </div>
                        </td>
                        <td class="py-3 align-middle">John doe</td>
                        <td class="py-3 align-middle">08 / 2019</td>
                        <td class="py-3 align-middle"><a class="nav-link-style me-2" href="#" data-bs-toggle="tooltip" title="Edit"><i class="ci-edit"></i></a><a class="nav-link-style text-danger" href="#" data-bs-toggle="tooltip" title="Remove">
                            <div class="ci-trash"></div></a></td>
                      </tr>
                      <tr>
                        <td class="py-3 align-middle">
                          <div class="d-flex align-items-center"><img src="img/card-master.png" width="39" alt="MesterCard">
                            <div class="ps-2"><span class="fw-medium text-heading me-1">MasterCard</span>ending in 0015</div>
                          </div>
                        </td>
                        <td class="py-3 align-middle">John doe</td>
                        <td class="py-3 align-middle">11 / 2021</td>
                        <td class="py-3 align-middle"><a class="nav-link-style me-2" href="#" data-bs-toggle="tooltip" title="Edit"><i class="ci-edit"></i></a><a class="nav-link-style text-danger" href="#" data-bs-toggle="tooltip" title="Remove">
                            <div class="ci-trash"></div></a></td>
                      </tr>
                      <tr>
                        <td class="py-3 align-middle">
                          <div class="d-flex align-items-center"><img src="img/card-paypal.png" width="39" alt="PayPal">
                            <div class="ps-2"><span class="fw-medium text-heading me-1">PayPal</span>j.doe@example.com</div>
                          </div>
                        </td>
                        <td class="py-3 align-middle">&mdash;</td>
                        <td class="py-3 align-middle">&mdash;</td>
                        <td class="py-3 align-middle"><a class="nav-link-style me-2" href="#" data-bs-toggle="tooltip" title="Edit"><i class="ci-edit"></i></a><a class="nav-link-style text-danger" href="#" data-bs-toggle="tooltip" title="Remove">
                            <div class="ci-trash"></div></a></td>
                      </tr>
                      <tr>
                        <td class="py-3 align-middle">
                          <div class="d-flex align-items-center"><img src="img/card-visa.png" width="39" alt="Visa">
                            <div class="ps-2"><span class="fw-medium text-heading me-1">Visa</span>ending in 6073</div>
                          </div>
                        </td>
                        <td class="py-3 align-middle">John doe</td>
                        <td class="py-3 align-middle">09 / 2021</td>
                        <td class="py-3 align-middle"><a class="nav-link-style me-2" href="#" data-bs-toggle="tooltip" title="Edit"><i class="ci-edit"></i></a><a class="nav-link-style text-danger" href="#" data-bs-toggle="tooltip" title="Remove">
                            <div class="ci-trash"></div></a></td>
                      </tr>
                      <tr>
                        <td class="py-3 align-middle">
                          <div class="d-flex align-items-center"><img src="img/card-visa.png" width="39" alt="Visa">
                            <div class="ps-2"><span class="fw-medium text-heading me-1">Visa</span>ending in 9791</div>
                          </div>
                        </td>
                        <td class="py-3 align-middle">John doe</td>
                        <td class="py-3 align-middle">05 / 2021</td>
                        <td class="py-3 align-middle"><a class="nav-link-style me-2" href="#" data-bs-toggle="tooltip" title="Edit"><i class="ci-edit"></i></a><a class="nav-link-style text-danger" href="#" data-bs-toggle="tooltip" title="Remove">
                            <div class="ci-trash"></div></a></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="text-sm-end"><a class="btn btn-primary" href="#add-payment" data-bs-toggle="modal">Add payment method</a></div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

{%elif store.is_approved == False and store.store_status == 'Pending' %}

  <div class="container pb-5 mb-sm-4">
    <div class="pt-5">
      <div class="card py-3 mt-sm-3">
        <div class="card-body text-center">
          <h2 class="h4 pb-3">Thank you for waiting!</h2>
          <p class="fs-sm mb-2">Your store hasn't been approved yet.</p>
          <p class="fs-sm mb-2">Make sure you can contact our support team </span></p>
          <p class="fs-sm">You will be receiving an email shortly with confirmation of your store openening.</p>
        </div>
      </div>
    </div>
  </div>
  
  
{%else%}
<div class="container pb-5 mb-sm-4">
  <div class="pt-5">
    <div class="card py-3 mt-sm-3">
      <div class="card-body text-center">
        <h2 class="h4 pb-3">We are sorry for you!</h2>
        <p class="fs-sm mb-2">Your store hasn't been approved.</p>
        <p class="fs-sm mb-2">Make sure you can contact our support team. </span></p>
        <p class="fs-sm">You will be receiving an email shortly with brief explanation of the cause of rejection.</p>
      </div>
    </div>
  </div>
</div>

{%endif%}
{% endblock %}